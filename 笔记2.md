#### <a name="1">HTTP原理和工作机制</a>

#### 1.Http是什么 

用于传输超文本的协议 

HyperText Transfer Protocol超文本传输协议

超文本:在电脑中显示的,含有可以指向其他文本的链接的文本 就是HTML(文档的格式) 以及web api的数据

#### 2.HTTP的工作方式

浏览器 ->发送请求->服务器 , 服务器->响应->浏览器渲染

URL组成 http://github.com/user?gender=male

​         协议类型  服务器地址              路径

请求报文:

请求行(request line)  GET(请求方法method)  /user?gender=male(path)  HTTP/1.1(HTTP version)

 请求头(header)          HOST:github.com

​									 Content-Type:text/plain

请求体(body)              dadsfadfasdfdasf

响应报文:

状态行  HTTP/1.1 200(status code) OK(code的简单描述)

响应头  Server:nginx/1.13.3

​			  content-Type:text/plain

响应体  [{"a":"b"},{}]



##### (1)请求的方法 Request Methods

GET 获取资源 没有body(可以有 但是做法不规范)

POST 增加或修改资源 有body

PUT  修改资源 有body

DELETE 删除资源 没有body 

HEAD 和get几乎一样 区别在于服务器不会返回body

get 和 put delete 都是幂等的 也就是说执行一次或多次结果 是一样的

##### (2)状态吗 status code

对结果做出类型化描述(如 成功 内容未找到)

为什么区分状态码:方便开发调试

1xx: 临时性消息  100 101告诉客户端我支持http2 不支持返回200

2xx: 成功

3xx: 重定向 301 永久迁移 302 临时迁移 一般都是301

4xx: 客户端错误

5xx: 服务器错误

##### (3) header

HTTP消息的元数据(metadata:数据的数据 或者说是数据的属性)

 Host:服务器主机地址  但是不是用来寻址的  在请求之前就已经通过DNS寻址了

作用:可能多个服务器主机地址是同一个IP 服务器需要做出判断所以需要携带HOST

 Content-Length:内容的长度(字节) 确定内容的长度(二进制内容)

 Content-Type/body的类型

​	text/html HTML文本,用于浏览器页面响应或post put请求

​	application/json json形式 用于web Api的响应

​	application/x-www-form-urlencoded 普通表单 encoded URL格式

​	multipart/form-data;boundary=----WebKitFormBoundary12938192ASDFA 多部分形式,一般用于传输包含二进制内容的多项内

​    image/jpeg  application/zip 提交单文件

Transfer-Encoding: chunked  分块传输 表示body长度无法确定,Content-Length不能使用

Location : https://www.baidu.com/ 重定向的目标URL
User-Agent: 用户代理 表示是浏览器 还是手机 标识等

Range/Accept-Range:断点续传 或分段下载

​	Accept-Range :bytes 表示支持分段下载

​	Range:bytes=0-15000 表示下载的范围

Cookie/Set-Cookie:发送Cookie/设置Cookie

Authorization:授权信息

Accept:客户端能接受的数据类型,如text/html;text/json

Accept-Charset:客户端接受的字符集,如utf-8

Accept-Encoding:客户端接受的压缩编码类型 如gzip

Content-Encoding;压缩类型,如gzip

Cache:Cache和Buffer的区别  cache缓存 buffer缓冲

 cache可能会重复使用

 buffer是针对工作流的 上游产生太快的缓冲等 在线播放提前下载进度是缓冲

​	Cache-Control :no-cache 可以缓存但需要先询问,no-store 不要缓存 max-age 失效日期前可以缓存

​	Last-Modified : Fri , 12 May 2006 18:53:33 GMT 去问服务器 在这个日期后 有改动吗 

​	Etag:If-None-Match 类似hash 标签 询问服务器最新资源是否还是这个tag

​	Cache-Control:private/public  告诉中间节点是否需要缓存 private不缓存 public可以缓存

#### 3.REST

是一种架构风格

RESTful HTTP 正确使用HTTP 

GET POST PUT DELETE 等正确的使用 













